# See docs/Config_Reference.md for a description of parameters.
[include moonraker_obico_macros.cfg]
[include mainsail.cfg]
[include macro.cfg]
[include timelapse.cfg]
[include KAMP_Settings.cfg]
[include shell_command.cfg]
# [include ./internal/filament_sensor.cfg]
# [include ./internal/raspberry.cfg]
[include ./internal/screw_adjust.cfg]
[include ./internal/motors.cfg]
[include ./internal/extras.cfg]
[include ./internal/probe.cfg]
# [include ./internal/adxl.cfg]

[gcode_macro _CLIENT_VARIABLE]
variable_use_custom_pos   : False ; use custom park coordinates for x,y [True/False]
variable_custom_park_x    : 0.0   ; custom x position; value must be within your defined min and max of X
variable_custom_park_y    : 0.0   ; custom y position; value must be within your defined min and max of Y
variable_custom_park_dz   : 5.0   ; custom dz value; the value in mm to lift the nozzle when move to park position
variable_retract          : 1.0   ; the value to retract while PAUSE
variable_cancel_retract   :  5.0   ; the value to retract while CANCEL_PRINT
variable_speed_retract    : 35.0  ; retract speed in mm/s
variable_unretract        : 0.0   ; the value to unretract while RESUME
variable_speed_unretract  : 35.0  ; unretract speed in mm/s
variable_speed_hop        : 15.0  ; z move speed in mm/s
variable_speed_move       : 100.0 ; move speed in mm/s
variable_park_at_cancel   : True ; allow to move the toolhead to park while execute CANCEL_PRINT [True/False]
variable_park_at_cancel_x : 0  ; different park position during CANCEL_PRINT [None/Position as Float]; park_at_cancel m>
variable_park_at_cancel_y : 200  ; different park position during CANCEL_PRINT [None/Position as Float]; park_at_cancel># !!! Caution [firmware_retraction] must be defined in the printer.cfg if you set use_fw_retract: True !!!
variable_use_fw_retract   : True ; use fw_retraction instead of the manual version [True/False]
variable_idle_timeout     : 600     ; time in sec until idle_timeout kicks in. Value 0 means that no value will be set >
# variable_runout_sensor    : ""    ; If a sensor is defined, it will be used to cancel the execution of RESUME in case>
gcode:
    
[virtual_sdcard]
path: /home/yax/printer_Ender3V2Neo_data/gcodes
on_error_gcode: CANCEL_PRINT

[mcu]
serial: /dev/serial/by-path/platform-fd500000.pcie-pci-0000:01:00.0-usb-0:1.3:1.0
restart_method: command

[temperature_sensor mcu_temp]
sensor_type: temperature_mcu
min_temp: 0
max_temp: 100

[temperature_sensor Raspberry_Pi]
sensor_type: temperature_host
min_temp: 10
max_temp: 100

[printer]
kinematics: cartesian
max_velocity: 250
max_accel: 3000
minimum_cruise_ratio: 0.5
max_z_velocity: 5
square_corner_velocity: 5.0
max_z_accel: 100

[heater_bed]
heater_pin: PD7
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PA1
min_temp: 0
max_temp: 90

[fan]
pin: PB7

[heater_fan hotend_fan]
pin: PB6
heater: extruder
heater_temp: 50.0
fan_speed: 1.0

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PC5, EXP1_3=PB1, EXP1_5=PE9,  EXP1_7=PE11, EXP1_9=<GND>,
    EXP1_2=PB0, EXP1_4=PE8, EXP1_6=PE10, EXP1_8=PE12, EXP1_10=<5V>,
    # EXP2 header
    EXP2_1=PA6, EXP2_3=PE7, EXP2_5=PB2, EXP2_7=PC4,   EXP2_9=<GND>,
    EXP2_2=PA5, EXP2_4=PA4, EXP2_6=PA7, EXP2_8=<RST>, EXP2_10=<NC>

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 68.610
#*# pid_ki = 1.010
#*# pid_kd = 1165.514
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 49.261
#*# pid_ki = 8.210
#*# pid_kd = 73.891
#*#
#*# [probe]
#*# z_offset = 0.715
#*#
#*# [input_shaper]
#*# shaper_type_y = mzv
#*# shaper_freq_y = 41.8
#*# shaper_type_x = mzv
#*# shaper_freq_x = 89.6
#*#
#*# [bed_mesh test cold]
#*# version = 1
#*# points =
#*# 	-0.277500, -0.192500, -0.157500, -0.137500, -0.107500, -0.127500, -0.145000, -0.147500, -0.160000, -0.282500
#*# 	-0.102500, -0.085000, -0.082500, -0.052500, -0.032500, -0.080000, -0.097500, -0.095000, -0.115000, -0.255000
#*# 	-0.080000, -0.087500, -0.117500, -0.085000, -0.057500, -0.077500, -0.120000, -0.087500, -0.092500, -0.190000
#*# 	-0.067500, -0.062500, -0.075000, -0.042500, -0.027500, -0.052500, -0.092500, -0.070000, -0.092500, -0.200000
#*# 	-0.057500, -0.070000, -0.045000, -0.040000, -0.002500, -0.062500, -0.075000, -0.067500, -0.075000, -0.177500
#*# 	-0.052500, -0.040000, -0.027500, -0.047500, -0.007500, -0.042500, -0.075000, -0.055000, -0.047500, -0.180000
#*# 	-0.072500, -0.065000, -0.067500, -0.050000, -0.027500, -0.062500, -0.045000, -0.055000, -0.062500, -0.190000
#*# 	-0.050000, -0.062500, -0.062500, -0.027500, -0.015000, -0.047500, -0.067500, -0.045000, -0.060000, -0.160000
#*# 	-0.052500, -0.072500, -0.062500, -0.047500, -0.032500, -0.072500, -0.065000, -0.055000, -0.077500, -0.167500
#*# 	-0.087500, -0.085000, -0.097500, -0.070000, -0.050000, -0.090000, -0.097500, -0.057500, -0.062500, -0.205000
#*# x_count = 10
#*# y_count = 10
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 30.0
#*# max_x = 188.94
#*# min_y = 30.0
#*# max_y = 188.93999999999997
#*#
#*# [bed_mesh start heat]
#*# version = 1
#*# points =
#*# 	-0.190000, -0.135000, -0.100000, -0.090000, -0.057500, -0.082500, -0.092500, -0.077500, -0.087500, -0.202500
#*# 	-0.102500, -0.077500, -0.045000, -0.007500, 0.015000, -0.030000, -0.037500, -0.035000, -0.050000, -0.157500
#*# 	-0.060000, -0.067500, -0.060000, -0.005000, -0.002500, -0.020000, -0.035000, -0.020000, -0.040000, -0.122500
#*# 	-0.030000, -0.007500, -0.007500, 0.030000, 0.050000, 0.022500, -0.005000, 0.002500, 0.000000, -0.105000
#*# 	-0.010000, -0.007500, 0.020000, 0.035000, 0.077500, 0.020000, 0.017500, 0.020000, 0.012500, -0.090000
#*# 	0.010000, 0.025000, 0.045000, 0.045000, 0.077500, 0.050000, 0.015000, 0.037500, 0.045000, -0.080000
#*# 	-0.005000, 0.015000, 0.015000, 0.040000, 0.062500, 0.027500, 0.055000, 0.042500, 0.030000, -0.090000
#*# 	-0.010000, 0.017500, 0.020000, 0.060000, 0.075000, 0.045000, 0.022500, 0.042500, 0.032500, -0.067500
#*# 	-0.007500, -0.012500, 0.017500, 0.025000, 0.037500, 0.007500, 0.015000, 0.025000, 0.007500, -0.092500
#*# 	-0.045000, -0.022500, -0.017500, 0.002500, 0.037500, 0.000000, -0.010000, 0.022500, 0.007500, -0.117500
#*# x_count = 10
#*# y_count = 10
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 30.0
#*# max_x = 188.94
#*# min_y = 30.0
#*# max_y = 188.93999999999997
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.037500, -0.005000, 0.025000, 0.047500, 0.035000, -0.022500, -0.042500, -0.022500, -0.025000
#*# 	  0.070000, 0.045000, 0.070000, 0.085000, 0.060000, 0.042500, 0.052500, 0.040000, 0.007500
#*# 	  0.095000, 0.070000, 0.062500, 0.102500, 0.095000, 0.045000, 0.022500, 0.040000, 0.002500
#*# 	  0.100000, 0.092500, 0.222500, 0.120000, 0.097500, 0.052500, 0.050000, 0.055000, 0.037500
#*# 	  0.092500, 0.065000, 0.065000, 0.097500, 0.102500, 0.062500, 0.052500, 0.047500, 0.040000
#*# 	  0.097500, 0.077500, 0.102500, 0.105000, 0.092500, 0.065000, 0.070000, 0.072500, 0.047500
#*# 	  0.102500, 0.057500, 0.077500, 0.082500, 0.082500, 0.067500, 0.040000, 0.040000, 0.015000
#*# 	  0.082500, 0.060000, 0.067500, 0.075000, 0.062500, 0.037500, 0.040000, 0.030000, 0.012500
#*# 	  0.052500, 0.032500, 0.040000, 0.077500, 0.082500, 0.035000, 0.037500, 0.025000, 0.010000
#*# 	  0.030000, 0.030000, 0.047500, 0.062500, 0.042500, 0.025000, 0.015000, 0.032500, -0.010000
#*# x_count = 9
#*# y_count = 10
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 53.0643
#*# max_x = 181.86430000000001
#*# min_y = 33.0
#*# max_y = 188.96999999999997
